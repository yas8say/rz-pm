{{ define "main" }}
  <article class="pa3 pa4-ns nested-copy-line-height">
    <section class="cf ph3 ph5-l pv3 pv4-l f4 tc-l center measure-wide lh-copy {{ $.Param "text_color" | default "mid-gray" }}">
      {{- .Content -}}
    </section>
    
    <!-- Pagefind Search Bar -->
    <section id="search-container" class="mb4" style="padding-left: 200px; padding-right: 20px;">
      <div id="search"></div>
      <script src="/pagefind/pagefind-ui.js"></script>
      <script>
        window.addEventListener('DOMContentLoaded', (event) => {
            new PagefindUI({ element: "#search", showSubResults: true });
        });
      </script>
    </section>

    <!-- Table with Package Data -->
    <section class="table-container">
      <table class="f6 w-100 mw8 center" cellspacing="0" style="border-collapse: collapse;">
        <thead>
          <tr>
            <th class="fw6 tl pa3" style="border: 1px solid #ccc;">Package</th>
            <th class="fw6 tl pa3" style="border: 1px solid #ccc;">Version</th>
            <th class="fw6 tl pa3" style="border: 1px solid #ccc;">Architecture</th>
            <th class="fw6 tl pa3" style="border: 1px solid #ccc;">Description</th>
            <th class="fw6 tl pa3" style="border: 1px solid #ccc;">URL</th> <!-- New URL column -->
          </tr>
        </thead>
        <tbody>
          {{ range .Paginator.Pages }}
            <tr class="package-row">
              <td class="pa3 package-name" style="border: 1px solid #ccc;">
                <a href="{{ .Permalink }}" class="link blue">{{ .Title }}</a>
              </td>
              <td class="pa3" style="border: 1px solid #ccc;">{{ .Params.version }}</td>
              <td class="pa3" style="border: 1px solid #ccc;">{{ .Params.architecture }}</td>
              <td class="pa3" style="border: 1px solid #ccc;">{{ .Params.description }}</td>
              <td class="pa3" style="border: 1px solid #ccc;">
                <a href="{{ .Params.url }}" target="_blank" class="link blue">Visit</a> <!-- URL column -->
              </td>
            </tr>
          {{ end }}
        </tbody>
      </table>
    </section>

    {{- template "_internal/pagination.html" . -}}
  </article> 
{{ end }}
